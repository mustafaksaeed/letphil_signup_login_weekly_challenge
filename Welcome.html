<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome</title>
  </head>
  <body>
    <h1 id="home">!letphil</h1>
    <h3 id ="welcome"></h3>
    <button id="signOut">SignOut</button>
  </body>
  <script>
    const signOut = document.getElementById("signOut")
    const welcome = document.getElementById("welcome")
    const home = document.getElementById("home");

    const storedData = localStorage.getItem("allUsers");
    const userArray = JSON.parse(storedData);

    const storedUserData = localStorage.getItem("userData");
            const parsedUserData = JSON.parse(storedUserData);
            console.log("Parsed User Data:", parsedUserData);



console.log("userArray", userArray)

//stored the current email from login using local storage, looped it through the main object to find the corresponding index and pull the name to welcome

let userName = "";
for (let i = 0; i < userArray.length; i++) {
    if (parsedUserData.email === userArray[i].email) {
        userName = userArray[i].name; 
        console.log("User:", userName);     
    // }else{
    //   //here idk cuz all my use cases covered so theres always a name 
    // }
}
}

//figure this out
// let email = parsedUserData.email
// console.log("email", email.value)
// console.log("name", userArray[email])

 

    welcome.textContent = `welcome ${userName} to !letphil, except its not letphil ðŸ’€`


    console.log("user name", userArray.name)
    signOut.addEventListener("click", function(){
         window.location.href = "./Login.html"
    })

    home.addEventListener("click", function () {
        window.location.href = "./Home.html";
      });
  </script>
</html>
<!-- 
Things to add 
name in signup for and last name so we can greet them 
signout when user clicks signout they are redirected to the home page

